{"ast":null,"code":"import _classCallCheck from\"/home/rob/codeAcademy/react/jammming/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rob/codeAcademy/react/jammming/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rob/codeAcademy/react/jammming/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rob/codeAcademy/react/jammming/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rob/codeAcademy/react/jammming/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import SearchBar from'../SearchBar/SearchBar.js';import SearchResults from'../SearchResults/SearchResults.js';import Playlist from'../Playlist/Playlist.js';import Spotify from'../../util/Spotify.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={searchResults:[],playlistName:\"Playlist 1\",playlistTracks:[]};_this.addTrack=_this.addTrack.bind(_assertThisInitialized(_this));_this.removeTrack=_this.removeTrack.bind(_assertThisInitialized(_this));_this.updatePlaylistName=_this.updatePlaylistName.bind(_assertThisInitialized(_this));_this.savePlaylist=_this.savePlaylist.bind(_assertThisInitialized(_this));_this.search=_this.search.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"addTrack\",value:function addTrack(track){if(this.state.playlistTracks.find(function(savedTrack){return savedTrack.id===track.id;})){return;}}},{key:\"removeTrack\",value:function removeTrack(track){if(this.state.playlistTracks.filter(function(savedTrack){return savedTrack.id===track.id;})){return;}}},{key:\"updatePlaylistName\",value:function updatePlaylistName(name){return this.setState({playlistName:name});}},{key:\"savePlaylist\",value:function savePlaylist(){var _this2=this;var trackUris=this.state.playlistTracks.map(function(track){return track.uri;});Spotify.savePlaylist(this.state.playlistName,trackUris).then(function(){_this2.setState({playlistName:'New Playlist',playlistTracks:[]});});}},{key:\"search\",value:function search(term){var _this3=this;Spotify.search(term).then(function(searchResults){_this3.setState({searchResults:searchResults});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" Ja \",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\" mmm \"}),\"ing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:this.search}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:this.state.searchResults,onAdd:this.addTrack}),/*#__PURE__*/_jsx(Playlist,{PlaylistName:this.state.playlistName,PlaylistTracks:this.state.playlistTracks,onRemove:this.removeTrack,onNameChange:this.updatePlaylistName,onSave:this.savePlaylist})]})]})]});}}]);return App;}(React.Component);;export default App;","map":{"version":3,"sources":["/home/rob/codeAcademy/react/jammming/src/Components/App/App.js"],"names":["React","SearchBar","SearchResults","Playlist","Spotify","App","props","state","searchResults","playlistName","playlistTracks","addTrack","bind","removeTrack","updatePlaylistName","savePlaylist","search","track","find","savedTrack","id","filter","name","setState","trackUris","map","uri","then","term","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\nimport SearchBar from '../SearchBar/SearchBar.js'\nimport SearchResults from '../SearchResults/SearchResults.js'\nimport Playlist from '../Playlist/Playlist.js'\nimport Spotify from '../../util/Spotify.js'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: [],\n      playlistName: \"Playlist 1\",\n      playlistTracks: []\n    }\n    this.addTrack = this.addTrack.bind(this);\n    this.removeTrack = this.removeTrack.bind(this);\n    this.updatePlaylistName = this.updatePlaylistName.bind(this);\n    this.savePlaylist = this.savePlaylist.bind(this);\n    this.search = this.search.bind(this);\n  }\n\n  addTrack(track) {\n    if (this.state.playlistTracks.find(savedTrack => savedTrack.id === track.id)) {\n      return;\n    }\n  }\n\n  removeTrack(track) {\n    if (this.state.playlistTracks.filter(savedTrack => savedTrack.id === track.id)) {\n      return;\n    }\n  }\n\n  updatePlaylistName(name) {\n    return this.setState({playlistName: name});\n  }\n\n  savePlaylist() {\n    const trackUris = this.state.playlistTracks.map(track => track.uri);\n    Spotify.savePlaylist(this.state.playlistName, trackUris).then(() => {\n      this.setState({\n        playlistName: 'New Playlist',\n        playlistTracks: []\n      })\n    })\n  }\n\n  search(term) {\n    Spotify.search(term).then(searchResults => {\n      this.setState({searchResults: searchResults})\n    })\n  }\n\n  render() {\n    return (\n      <div >\n        <h1> Ja <span className = \"highlight\" > mmm < /span>ing</h1 >\n        <div className = \"App\" >\n          <SearchBar onSearch={this.search}/>\n          <div className = \"App-playlist\" >\n            <SearchResults\n              searchResults = {this.state.searchResults}\n              onAdd = {this.addTrack}\n            />\n            <Playlist\n              PlaylistName = {this.state.playlistName}\n              PlaylistTracks = {this.state.playlistTracks}\n              onRemove = {this.removeTrack}\n              onNameChange = {this.updatePlaylistName}\n              onSave = {this.savePlaylist}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}